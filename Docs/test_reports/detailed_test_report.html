<!DOCTYPE html>
<html>
<head>
    <title>SuperPitchMonitor Detailed Test Report</title>
    <style>
        body { font-family: 'Segoe UI', Arial, sans-serif; margin: 20px; background: #f8f9fa; }
        h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        h2 { color: #34495e; margin-top: 30px; }
        h3 { color: #7f8c8d; }
        .test-section { background: white; padding: 20px; margin: 20px 0; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .mode-section { margin: 15px 0; padding: 15px; background: #f8f9fa; border-radius: 5px; }
        table { border-collapse: collapse; width: 100%; margin: 15px 0; font-size: 13px; }
        th { background: #3498db; color: white; padding: 10px; text-align: center; font-weight: 600; }
        td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        tr:nth-child(even) { background: #f8f9fa; }
        .ok { background: #d4edda !important; color: #155724; font-weight: 600; }
        .miss { background: #f8d7da !important; color: #721c24; font-weight: 600; }
        .false-pos { background: #fff3cd !important; color: #856404; }
        .fft-peak { background: #e3f2fd; margin: 5px 0; padding: 5px 10px; border-radius: 4px; font-size: 12px; }
        .summary-stats { display: flex; gap: 20px; margin: 20px 0; }
        .stat-box { background: white; padding: 15px; border-radius: 8px; flex: 1; text-align: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .stat-value { font-size: 24px; font-weight: bold; color: #3498db; }
        .stat-label { color: #7f8c8d; font-size: 12px; }
        .metric { font-family: 'Consolas', monospace; }
        .header-info { background: #e3f2fd; padding: 15px; border-radius: 8px; margin: 20px 0; }
    </style>
</head>
<body>
    <h1>SuperPitchMonitor Detailed Test Report</h1>
    <div class="header-info">
        <strong>Test Configuration:</strong><br>
        FFT Window: 10s (0.1Hz resolution)<br>
        SPM Frames Collected: 100 per test<br>
        Warmup Frames: 50<br>
        Generated: 2026-02-14 05:24:58
    </div>

    <div class="summary-stats">
        <div class="stat-box">
            <div class="stat-value">1</div>
            <div class="stat-label">Test Files</div>
        </div>
        <div class="stat-box">
            <div class="stat-value">4/4</div>
            <div class="stat-label">Detected (MR ON)</div>
        </div>
        <div class="stat-box">
            <div class="stat-value">1/4</div>
            <div class="stat-label">Detected (MR OFF)</div>
        </div>
        <div class="stat-box">
            <div class="stat-value">0.10Hz</div>
            <div class="stat-label">FFT Resolution</div>
        </div>
    </div>

    <div class="test-section">
        <h2>chord_c_major_7_piano.wav</h2>
        <p><strong>Type:</strong> simple_chord | 
           <strong>Description:</strong> C Major 7 (C4-E4-G4-C5)</p>
        
        <h3>FFT Reference Peaks (Top 10)</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 10px;">
<div class="fft-peak">523.3Hz (84.2dB)</div><div class="fft-peak">392.0Hz (81.3dB)</div><div class="fft-peak">329.6Hz (81.1dB)</div><div class="fft-peak">261.6Hz (81.1dB)</div><div class="fft-peak">1046.5Hz (77.2dB)</div><div class="fft-peak">784.0Hz (75.2dB)</div><div class="fft-peak">659.3Hz (74.8dB)</div><div class="fft-peak">1569.8Hz (69.7dB)</div><div class="fft-peak">1176.0Hz (69.2dB)</div><div class="fft-peak">988.9Hz (69.2dB)</div>
        </div>
        
        <h3>SPM Results - Multi-Resolution OFF</h3>
        <div class="mode-section">

    <table>
        <thead>
            <tr>
                <th>Note</th>
                <th>Expected Freq<br>(Hz)</th>
                <th>FFT Mag<br>(dB)</th>
                <th>Status</th>
                <th>SPM Freq<br>Mean±Std (Hz)</th>
                <th>Confidence<br>Mean±Std</th>
                <th>Amplitude<br>Mean±Std</th>
                <th>Detection<br>Rate</th>
                <th>H. Count<br>Mean</th>
            </tr>
        </thead>
        <tbody>

            <tr class="miss">
                <td><strong>C4</strong></td>
                <td>261.63</td>
                <td class="metric">80.9</td>
                <td>MISSED</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td>0%</td>
                <td>N/A</td>
            </tr>

            <tr class="miss">
                <td><strong>E4</strong></td>
                <td>329.63</td>
                <td class="metric">80.9</td>
                <td>MISSED</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td>0%</td>
                <td>N/A</td>
            </tr>

            <tr class="miss">
                <td><strong>G4</strong></td>
                <td>392.00</td>
                <td class="metric">81.3</td>
                <td>MISSED</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td class="metric">N/A</td>
                <td>0%</td>
                <td>N/A</td>
            </tr>

            <tr class="ok">
                <td><strong>C5</strong></td>
                <td>523.25</td>
                <td class="metric">83.3</td>
                <td>DETECTED</td>
                <td class="metric">527.6±0.0</td>
                <td class="metric">0.64±0.04</td>
                <td class="metric">161.5706±0.0046</td>
                <td>100%</td>
                <td>3.0</td>
            </tr>

        </tbody>
    </table>

        </div>
        
        <h3>SPM Results - Multi-Resolution ON</h3>
        <div class="mode-section">

    <table>
        <thead>
            <tr>
                <th>Note</th>
                <th>Expected Freq<br>(Hz)</th>
                <th>FFT Mag<br>(dB)</th>
                <th>Status</th>
                <th>SPM Freq<br>Mean±Std (Hz)</th>
                <th>Confidence<br>Mean±Std</th>
                <th>Amplitude<br>Mean±Std</th>
                <th>Detection<br>Rate</th>
                <th>H. Count<br>Mean</th>
            </tr>
        </thead>
        <tbody>

            <tr class="ok">
                <td><strong>C4</strong></td>
                <td>261.63</td>
                <td class="metric">80.9</td>
                <td>DETECTED</td>
                <td class="metric">263.8±0.0</td>
                <td class="metric">0.79±0.01</td>
                <td class="metric">132.6241±2.7801</td>
                <td>100%</td>
                <td>7.1</td>
            </tr>

            <tr class="ok">
                <td><strong>E4</strong></td>
                <td>329.63</td>
                <td class="metric">80.9</td>
                <td>DETECTED</td>
                <td class="metric">328.4±0.0</td>
                <td class="metric">0.33±0.00</td>
                <td class="metric">44.5716±3.2768</td>
                <td>100%</td>
                <td>4.0</td>
            </tr>

            <tr class="ok">
                <td><strong>G4</strong></td>
                <td>392.00</td>
                <td class="metric">81.3</td>
                <td>DETECTED</td>
                <td class="metric">393.0±0.0</td>
                <td class="metric">0.33±0.04</td>
                <td class="metric">49.8853±14.2013</td>
                <td>90%</td>
                <td>4.0</td>
            </tr>

            <tr class="ok">
                <td><strong>C5</strong></td>
                <td>523.25</td>
                <td class="metric">83.3</td>
                <td>DETECTED</td>
                <td class="metric">527.6±0.0</td>
                <td class="metric">0.20±0.00</td>
                <td class="metric">32.5417±1.5060</td>
                <td>97%</td>
                <td>3.1</td>
            </tr>

        </tbody>
    </table>

        </div>
    </div>

</body>
</html>
